<section class="faq-page">
  <!-- Global Hero Section -->
  <app-hero-section
    [title]="'FAQ.TITLE' | translate"
    [subtitle]="'FAQ.SUBTITLE' | translate"
    [breadcrumbs]="breadcrumbs"
    backgroundImage="assets/images/page-headers/faq-bg.jpg">
  </app-hero-section>

  <!-- FAQ Content -->
  <div class="faq-content">
    <div class="container">
      <!-- Category Tabs -->
      <div class="category-tabs">
        <button 
          *ngFor="let category of categories"
          [class.active]="selectedCategory === category.key"
          (click)="selectCategory(category.key)"
          class="category-tab">
          {{ category.label | translate }}
          <span class="count">{{getCategoryCount(category.key)}}</span>
        </button>
      </div>

      <!-- FAQ List -->
      <div class="faq-list">
        <div 
          *ngFor="let faq of filteredFaqs; let i = index"
          class="faq-item"
          [class.open]="faq.isOpen">
          
          <div class="faq-header" (click)="toggleFaq(faq)">
            <div class="faq-question">
              <span class="question-number">{{i + 1 < 10 ? '0' : ''}}{{i + 1}}</span>
              <h3>{{ faq.question | translate }}</h3>
            </div>
            <button class="toggle-btn">
              <span class="material-icons">{{faq.isOpen ? 'remove' : 'add'}}</span>
            </button>
          </div>
          
          <div class="faq-answer" [style.maxHeight]="faq.isOpen ? '500px' : '0'">
            <div class="answer-content">
              <p>{{ faq.answer | translate }}</p>
              <div class="answer-footer">
                <span class="category-badge">{{ 'FAQ.CATEGORY_' + (faq.category | uppercase) | translate }}</span>
                <button class="helpful-btn">
                  <span class="material-icons">thumb_up</span>
                  <span>{{ 'FAQ.HELPFUL' | translate }}</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div *ngIf="filteredFaqs.length === 0" class="no-results">
        <span class="material-icons">help_outline</span>
        <h3>{{ 'FAQ.NO_RESULTS_TITLE' | translate }}</h3>
        <p>{{ 'FAQ.NO_RESULTS_DESC' | translate }}</p>
      </div>
    </div>
  </div>

  <!-- CTA Section with Global MD3 Styles -->
  <section class="cta-section md3-surface-container">
    <div class="container">
      <div class="cta-content">
        <!-- Icon -->
        <div class="cta-icon">
          <i class="fas fa-question-circle"></i>
        </div>

        <!-- Title and Description -->
        <h3 class="cta-title md3-display-medium">{{ 'FAQ.CTA_TITLE' | translate }}</h3>
        <p class="cta-description md3-body-large">{{ 'FAQ.CTA_DESCRIPTION' | translate }}</p>

        <!-- Action Buttons -->
        <div class="cta-actions">
          <a href="tel:{{ phoneNumber }}" class="md3-button-filled cta-button-primary">
            <i class="fas fa-phone"></i>
            <span>{{ 'FAQ.CTA_CALL' | translate }}</span>
          </a>

          <a href="https://wa.me/{{ whatsappNumber }}" target="_blank" class="md3-button-tonal cta-button-secondary">
            <i class="fab fa-whatsapp"></i>
            <span>{{ 'FAQ.CTA_WHATSAPP' | translate }}</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</section>
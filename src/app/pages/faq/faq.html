<section class="faq-page">
  <!-- Global Hero Section -->
  <app-hero-section
    [title]="'FAQ.TITLE' | translate"
    [subtitle]="'FAQ.SUBTITLE' | translate"
    [breadcrumbs]="breadcrumbs"
    backgroundImage="assets/images/page-headers/faq-bg.jpg">
  </app-hero-section>

  <!-- FAQ Content -->
  <div class="faq-content">
    <div class="container">
      <!-- Category Tabs -->
      <div class="category-tabs">
        <button 
          *ngFor="let category of categories"
          [class.active]="selectedCategory === category.key"
          (click)="selectCategory(category.key)"
          class="category-tab">
          {{ category.label | translate }}
          <span class="count">{{getCategoryCount(category.key)}}</span>
        </button>
      </div>

      <!-- FAQ List -->
      <div class="faq-list">
        <div 
          *ngFor="let faq of filteredFaqs; let i = index"
          class="faq-item"
          [class.open]="faq.isOpen">
          
          <div class="faq-header" (click)="toggleFaq(faq)">
            <div class="faq-question">
              <span class="question-number">{{i + 1 < 10 ? '0' : ''}}{{i + 1}}</span>
              <h3>{{ faq.question | translate }}</h3>
            </div>
            <button class="toggle-btn">
              <span class="material-icons">{{faq.isOpen ? 'remove' : 'add'}}</span>
            </button>
          </div>
          
          <div class="faq-answer" [style.maxHeight]="faq.isOpen ? '500px' : '0'">
            <div class="answer-content">
              <p>{{ faq.answer | translate }}</p>
              <div class="answer-footer">
                <span class="category-badge">{{ 'FAQ.CATEGORY_' + (faq.category | uppercase) | translate }}</span>
                <button class="helpful-btn">
                  <span class="material-icons">thumb_up</span>
                  <span>{{ 'FAQ.HELPFUL' | translate }}</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div *ngIf="filteredFaqs.length === 0" class="no-results">
        <span class="material-icons">help_outline</span>
        <h3>{{ 'FAQ.NO_RESULTS_TITLE' | translate }}</h3>
        <p>{{ 'FAQ.NO_RESULTS_DESC' | translate }}</p>
      </div>
    </div>
  </div>

  <!-- CTA Section with Global Styles -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <!-- Title -->
        <h3 class="cta-title">{{ 'FAQ.CTA.TITLE' | translate }}</h3>

        <!-- Description -->
        <p class="cta-description">{{ 'FAQ.CTA.SUBTITLE' | translate }}</p>

        <!-- CTA Buttons -->
        <div class="cta-buttons">
          <a routerLink="/iletisim" class="btn-primary">
            <i class="fas fa-calendar-check"></i>
            <span>{{ 'FAQ.CTA.APPOINTMENT_BUTTON' | translate }}</span>
          </a>
          <a href="https://wa.me/905322376958" target="_blank" class="btn-secondary">
            <i class="fab fa-whatsapp"></i>
            <span>WhatsApp</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</section>
<app-page-header
  [title]="'RESOURCES.PAGE_TITLE' | translate"
  [subtitle]="'RESOURCES.SUBTITLE' | translate"
  [breadcrumbs]="breadcrumbs">
</app-page-header>

<main class="resources-page page-content">
  <section class="section resources-search">
    <div class="container">
      <div class="search-bar">
        <span class="material-icons-rounded" aria-hidden="true">search</span>
        <input
          type="search"
          [attr.aria-label]="'RESOURCES.SEARCH_PLACEHOLDER' | translate"
          [placeholder]="'RESOURCES.SEARCH_PLACEHOLDER' | translate"
          [value]="query"
          (input)="onSearch($any($event.target).value)" />
        <button
          *ngIf="query"
          type="button"
          class="icon-button"
          [attr.aria-label]="'RESOURCES.CLEAR_SEARCH' | translate"
          (click)="clearSearch()">
          <span class="material-icons-rounded" aria-hidden="true">close</span>
        </button>
      </div>

      <div class="search-results" *ngIf="query">
        <div class="results-header">
          <span class="material-icons-rounded" aria-hidden="true">list_alt</span>
          <span *ngIf="results.length">
            {{ 'RESOURCES.SEARCH_RESULTS_COUNT' | translate:{ count: results.length } }}
          </span>
          <span *ngIf="!results.length">{{ 'RESOURCES.NO_RESULTS' | translate }}</span>
        </div>
        <div class="results-list" *ngIf="results.length">
          <a *ngFor="let r of results" [routerLink]="r.path" class="result-item">
            <span class="material-icons-rounded" aria-hidden="true">description</span>
            <span class="title">{{ r.title }}</span>
            <span class="chip" *ngIf="r.categoryKey">{{ r.categoryKey | translate }}</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="section resources-categories">
    <div class="container">
      <div class="section-header">
        <span class="section-label">{{ 'RESOURCES.ALL_RESOURCES' | translate }}</span>
        <h2 class="section-title">{{ 'RESOURCES.SECTION_TITLE' | translate }}</h2>
        <p class="section-description">{{ 'RESOURCES.SUBTITLE' | translate }}</p>
      </div>

      <div class="categories-grid">
        <a
          *ngFor="let category of categories"
          [routerLink]="category.route"
          class="category-card"
          [ngClass]="getColorClass(category.color)">
          <div class="card-header">
            <div class="icon-wrapper">
              <span class="material-icons-rounded" aria-hidden="true">{{ category.icon }}</span>
            </div>
            <div class="document-count">
              <span class="count">{{ category.documentCount }}</span>
              <span class="label">{{ 'RESOURCES.DOCUMENT_COUNT' | translate }}</span>
            </div>
          </div>
          <div class="card-body">
            <h3 class="category-title">{{ category.titleKey | translate }}</h3>
            <p class="category-description">{{ category.descriptionKey | translate }}</p>
          </div>
          <div class="card-footer">
            <span class="view-link">
              <span>{{ 'RESOURCES.VIEW_ALL' | translate }}</span></span>
          </div>
        </a>
      </div>
    </div>
  </section>

  <section class="section resources-features">
    <div class="container">
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <span class="material-icons-rounded" aria-hidden="true">verified</span>
          </div>
          <h3>{{ 'RESOURCES.FEATURE1_TITLE' | translate }}</h3>
          <p>{{ 'RESOURCES.FEATURE1_DESC' | translate }}</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span class="material-icons-rounded" aria-hidden="true">translate</span>
          </div>
          <h3>{{ 'RESOURCES.FEATURE2_TITLE' | translate }}</h3>
          <p>{{ 'RESOURCES.FEATURE2_DESC' | translate }}</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span class="material-icons-rounded" aria-hidden="true">download</span>
          </div>
          <h3>{{ 'RESOURCES.FEATURE3_TITLE' | translate }}</h3>
          <p>{{ 'RESOURCES.FEATURE3_DESC' | translate }}</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <span class="material-icons-rounded" aria-hidden="true">update</span>
          </div>
          <h3>{{ 'RESOURCES.FEATURE4_TITLE' | translate }}</h3>
          <p>{{ 'RESOURCES.FEATURE4_DESC' | translate }}</p>
        </div>
      </div>
    </div>
  </section>

  <section class="section resources-quick-links" *ngIf="popularDocs.length">
    <div class="container">
      <div class="section-header">
        <span class="section-label">{{ 'RESOURCES.POPULAR_RESOURCES' | translate }}</span>
        <h2 class="section-title">{{ 'RESOURCES.POPULAR_RESOURCES' | translate }}</h2>
      </div>
      <div class="quick-links-grid">
        <a *ngFor="let doc of popularDocs" [routerLink]="doc.path" class="quick-link">
          <span class="material-icons-rounded" aria-hidden="true">description</span>
          <span>{{ doc.title }}</span>
        </a>
      </div>
    </div>
  </section>
</main>

<app-contact-cta></app-contact-cta>

<div class="content-container" [@listAnimation]="sections.length">
  <!-- SAYFA BAŞLIĞI VE GİRİŞ METNİ -->
  <header class="page-header">
    <nav class="breadcrumb">
      <a routerLink="/kaynaklar" class="breadcrumb-link">
        <mat-icon>folder</mat-icon>
        <span>Kaynaklar</span>
      </a>
      <mat-icon class="separator">chevron_right</mat-icon>
      <a routerLink="/kaynaklar/bright-futures-aile" class="breadcrumb-link">
        <span>{{ category }}</span>
      </a>
      <mat-icon class="separator">chevron_right</mat-icon>
      <span class="current">{{ title }}</span>
    </nav>
    
    <h1 class="page-title">10 Yaşındaki Çocuğunuz İçin Bilgiler</h1>
    <p class="page-lead">
      Çocuğunuzun hayatındaki bu önemli dönemeçte, fiziksel, duygusal ve sosyal gelişimini anlamak, 
      ona en iyi şekilde rehberlik etmenizi sağlar. İşte bu yolculukta size ışık tutacak bilgiler.
    </p>
    
    <div class="meta-info">
      <mat-chip-listbox aria-label="Sayfa bilgileri">
        <mat-chip-option selected>
          <mat-icon>category</mat-icon>
          {{ category }}
        </mat-chip-option>
        <mat-chip-option>
          <mat-icon>child_care</mat-icon>
          10 Yaş
        </mat-chip-option>
        <mat-chip-option>
          <mat-icon>verified</mat-icon>
          AAP Onaylı
        </mat-chip-option>
      </mat-chip-listbox>
    </div>
  </header>

  <!-- İÇİNDEKİLER (STICKY) -->
  <aside class="toc-sidebar" *ngIf="toc.length > 0">
    <mat-card class="toc-card">
      <mat-card-header>
        <mat-icon mat-card-avatar>list</mat-icon>
        <mat-card-title>İçindekiler</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <nav class="toc-nav">
          <a *ngFor="let item of toc" 
             class="toc-link" 
             [attr.href]="'#' + item.id" 
             [class.level-3]="item.level === 3">
            <mat-icon class="dot">fiber_manual_record</mat-icon>
            <span class="label">{{ item.text }}</span>
          </a>
        </nav>
      </mat-card-content>
    </mat-card>
  </aside>

  <!-- ANA İÇERİK -->
  <main class="main-content" #contentRoot>
    <!-- BÖLÜMLER (Dinamik olarak oluşturulur) -->
    <ng-container *ngFor="let section of sections; let i = index">
      
      <!-- VURGU KARTI (Önemli ipuçları için) -->
      <mat-card *ngIf="section.isAccent" 
                class="info-card accent-card"
                [@cardAnimation]>
        <mat-card-header>
          <mat-icon mat-card-avatar>{{ section.icon || 'tips_and_updates' }}</mat-icon>
          <mat-card-title class="section-headline">{{ section.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content class="body-text" [innerHTML]="section.content"></mat-card-content>
      </mat-card>

      <!-- STANDART BİLGİ KARTI -->
      <mat-card *ngIf="!section.isAccent && !section.panels" 
                class="info-card"
                [@cardAnimation]>
        <mat-card-header>
          <mat-icon mat-card-avatar>{{ section.icon || 'info' }}</mat-icon>
          <mat-card-title class="section-headline">{{ section.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content class="body-text" [innerHTML]="section.content"></mat-card-content>
      </mat-card>

      <!-- AÇILIR PANEL KARTI (Detaylı bilgiler için) -->
      <mat-card *ngIf="section.panels" 
                class="info-card expansion-card"
                [@cardAnimation]>
        <mat-card-header>
          <mat-icon mat-card-avatar>{{ section.icon || 'expand_more' }}</mat-icon>
          <mat-card-title class="section-headline">{{ section.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-accordion multi>
            <mat-expansion-panel *ngFor="let panel of section.panels"
                                  [expanded]="panel.expanded"
                                  hideToggle>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  {{ panel.title }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="panel-content" [innerHTML]="panel.content"></div>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-card-content>
      </mat-card>

      <mat-divider class="section-divider" *ngIf="i < sections.length - 1"></mat-divider>
    </ng-container>

    <!-- YARDIMCI BUTONLAR -->
    <section class="action-section">
      <mat-card class="action-card">
        <mat-card-content>
          <h3 class="action-title">
            <mat-icon>help_outline</mat-icon>
            Daha Fazla Bilgiye mi İhtiyacınız Var?
          </h3>
          <p class="action-description">
            Bu bilgiler Amerikan Pediatri Akademisi tarafından hazırlanmıştır. 
            Çocuğunuzun sağlığı ile ilgili spesifik sorularınız için doktorunuza danışın.
          </p>
          <div class="action-buttons">
            <button mat-raised-button color="primary" routerLink="/kaynaklar/bright-futures-aile">
              <mat-icon>arrow_back</mat-icon>
              Diğer Yaş Grupları
            </button>
            <button mat-raised-button color="accent">
              <mat-icon>download</mat-icon>
              PDF İndir
            </button>
            <button mat-raised-button>
              <mat-icon>print</mat-icon>
              Yazdır
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </section>

    <!-- ÖNERİLEN KAYNAKLAR -->
    <section class="related-section">
      <h2 class="section-title">
        <mat-icon>recommend</mat-icon>
        İlgili Kaynaklar
      </h2>
      <div class="related-grid">
        <mat-card class="related-card" routerLink="/kaynaklar/gelisim-rehberleri">
          <mat-icon class="related-icon">psychology</mat-icon>
          <h4>Gelişim Basamakları</h4>
          <p>10 yaş gelişimsel özellikleri</p>
        </mat-card>
        <mat-card class="related-card" routerLink="/kaynaklar/bright-futures-cocuk/10-ya-ocuk-in-bilgiler">
          <mat-icon class="related-icon">child_care</mat-icon>
          <h4>Çocuğunuz İçin</h4>
          <p>10 yaş çocuk bilgilendirme</p>
        </mat-card>
        <mat-card class="related-card" routerLink="/kaynaklar/aile-medya-plani">
          <mat-icon class="related-icon">devices</mat-icon>
          <h4>Medya Rehberi</h4>
          <p>Ekran süresi önerileri</p>
        </mat-card>
      </div>
    </section>
  </main>
</div>
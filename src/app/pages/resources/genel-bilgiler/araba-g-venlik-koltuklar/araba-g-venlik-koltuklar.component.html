<app-page-header
  [title]="resource?.title || ''"
  [subtitle]="resource?.description || ''"
  [breadcrumbs]="breadcrumbs">
</app-page-header>

<main class="resource-page">
  <section class="resource-content">
    <div class="container">
      <div class="resource-layout">
        <aside class="toc-sidebar" *ngIf="toc.length">
          <div class="toc-header">
            <span class="material-icons-rounded" aria-hidden="true">list</span>
            <h3>{{ 'RESOURCES.TABLE_OF_CONTENTS' | translate }}</h3>
          </div>
          <nav class="toc-nav">
            <a *ngFor="let item of toc" class="toc-link" [attr.href]="'#' + item.id" [ngClass]="{ 'level-3': item.level === 3 }">
              <span class="dot" aria-hidden="true"></span>
              <span class="label">{{ item.text }}</span>
            </a>
          </nav>
        </aside>

        <article class="content-card">
          <div class="content-body" #contentRoot [innerHTML]="contentHtml"></div>
        </article>
      </div>

      <div class="action-bar">
        <div class="action-group">
          <button class="action-btn btn-secondary" type="button" (click)="printPage()">
            <span class="material-icons-rounded" aria-hidden="true">print</span>
            <span>{{ 'COMMON.PRINT' | translate }}</span>
          </button>
          <button class="action-btn btn-secondary" type="button" (click)="sharePage()">
            <span class="material-icons-rounded" aria-hidden="true">share</span>
            <span>{{ 'COMMON.SHARE' | translate }}</span>
          </button>
        </div>
        <a *ngIf="resource?.downloadUrl"
           [href]="resource?.downloadUrl"
           download
           class="action-btn btn-primary">
          <span class="material-icons-rounded" aria-hidden="true">download</span>
          <span>{{ 'RESOURCES.DOWNLOAD_ORIGINAL' | translate }}</span>
        </a>
      </div>
    </div>
  </section>
</main>

<app-contact-cta></app-contact-cta>

// ====================================
// Resources: Master Style File
// Consolidated styles for all resource pages
// ====================================

// Import design tokens first
@use '../tokens/index' as tokens;

// Import layout primitives
@use '../layout-primitives' as layout;

// Import container queries
@use '../container-queries' as queries;

// Import resource-specific styles
@import 'base';
@import 'components';

// ====================================
// Additional resource-specific utilities
// ====================================

// Resource page layouts
.resource-layout {
  &--single-column {
    @extend .stack;
    --gap: var(--spacing-xl);
    max-width: 800px;
    margin: 0 auto;
  }

  &--two-column {
    @extend .sidebar-layout;
    --sidebar-width: 320px;
    --gap: var(--spacing-2xl);
  }

  &--grid {
    @extend .resource-grid;
  }
}

// Resource sections
.resource-section {
  margin-bottom: var(--spacing-3xl);

  .section-header {
    margin-bottom: var(--spacing-xl);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--md-sys-color-outline-variant);

    .section-title {
      font-size: var(--md-sys-typescale-headline-medium-size);
      font-weight: var(--font-weight-semibold);
      color: var(--md-sys-color-on-surface);
    }

    .section-description {
      margin-top: var(--spacing-sm);
      font-size: var(--md-sys-typescale-body-large-size);
      color: var(--md-sys-color-on-surface-variant);
    }
  }

  .section-content {
    @extend .stack;
    --gap: var(--spacing-lg);
  }
}

// Resource cards
.resource-card {
  @extend .box;
  --padding: var(--spacing-lg);
  --radius: var(--radius-md);
  transition: var(--transition-all);

  &:hover {
    box-shadow: var(--elevation-card-hover);
    transform: translateY(-2px);
  }

  &--featured {
    border: 2px solid var(--md-sys-color-primary);
    background: var(--md-sys-color-primary-container);
  }

  &--interactive {
    cursor: pointer;

    &:active {
      transform: scale(0.98);
    }
  }
}

// Resource navigation
.resource-nav {
  position: sticky;
  top: var(--spacing-lg);
  max-height: calc(100vh - var(--spacing-2xl));
  overflow-y: auto;

  .nav-title {
    font-size: var(--md-sys-typescale-title-medium-size);
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--spacing-md);
    color: var(--md-sys-color-on-surface);
  }

  .nav-list {
    list-style: none;
    padding: 0;

    .nav-item {
      margin-bottom: var(--spacing-xs);

      .nav-link {
        display: block;
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--md-sys-typescale-body-medium-size);
        color: var(--md-sys-color-on-surface-variant);
        text-decoration: none;
        border-radius: var(--radius-sm);
        transition: var(--transition-all);

        &:hover {
          background: var(--md-sys-color-surface-container);
          color: var(--md-sys-color-on-surface);
        }

        &.active {
          background: var(--md-sys-color-primary-container);
          color: var(--md-sys-color-on-primary-container);
          font-weight: var(--font-weight-medium);
        }
      }

      .nav-sublist {
        margin-top: var(--spacing-xs);
        margin-left: var(--spacing-lg);
        list-style: none;

        .nav-subitem {
          .nav-sublink {
            display: block;
            padding: var(--spacing-xs) var(--spacing-sm);
            font-size: var(--md-sys-typescale-body-small-size);
            color: var(--md-sys-color-on-surface-variant);
            text-decoration: none;
            transition: var(--transition-all);

            &:hover {
              color: var(--md-sys-color-primary);
            }
          }
        }
      }
    }
  }
}

// Print styles
@media print {
  .resource-container {
    max-width: 100%;
    padding: 0;
  }

  .resource-nav,
  .tab-navigation,
  .download-card__action {
    display: none !important;
  }

  .resource-content {
    font-size: 12pt;
    line-height: 1.5;

    h1 {
      font-size: 18pt;
    }
    h2 {
      font-size: 16pt;
    }
    h3 {
      font-size: 14pt;
    }
  }

  .info-box {
    border: 1px solid #000;
    page-break-inside: avoid;
  }

  .checklist-checkbox {
    border: 1px solid #000;

    &.checked::after {
      content: 'âœ“';
      color: #000;
    }
  }
}

// Dark theme overrides
html.dark-theme {
  .resource-card {
    &--featured {
      border-color: var(--md-sys-color-primary);
      background: rgba(77, 219, 199, 0.1);
    }
  }

  .milestone-timeline {
    &::before {
      background: var(--md-sys-color-outline);
    }
  }

  .download-card {
    &:hover {
      border-color: var(--md-sys-color-primary);
    }
  }
}
